<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# generator

```go
import "katenary/generator"
```

The generator package generates kubernetes objects from a "compose" file and transforms them into a helm chart.

The generator package is the core of katenary. It is responsible for generating kubernetes objects from a compose file and transforming them into a helm chart. Convertion manipulates Yaml representation of kubernetes object to add conditions, labels, annotations, etc. to the objects. It also create the values to be set to the values.yaml file.

The generate.Convert\(\) create an HelmChart object and call "Generate\(\)" method to convert from a compose file to a helm chart. It saves the helm chart in the given directory.

If you want to change or override the write behavior, you can use the HelmChart.Generate\(\) function and implement your own write function. This function returns the helm chart object containing all kubernetes objects and helm chart ingormation. It does not write the helm chart to the disk.

## Variables

<a name="Annotations"></a>

```go
var (

    // Standard annotationss
    Annotations = map[string]string{
        labelName("version"): Version,
    }
)
```

<a name="Version"></a>Version is the version of katenary. It is set at compile time.

```go
var Version = "master" // changed at compile time
```

<a name="Convert"></a>
## func [Convert](<https://github.com/metal3d/katenary/blob/develop/generator/converter.go#L37>)

```go
func Convert(config ConvertOptions, dockerComposeFile ...string)
```

Convert a compose \(docker, podman...\) project to a helm chart. It calls Generate\(\) to generate the chart and then write it to the disk.

<a name="GetLabelHelp"></a>
## func [GetLabelHelp](<https://github.com/metal3d/katenary/blob/develop/generator/katenaryLabels.go#L74>)

```go
func GetLabelHelp(asMarkdown bool) string
```

Generate the help for the labels.

<a name="GetLabelHelpFor"></a>
## func [GetLabelHelpFor](<https://github.com/metal3d/katenary/blob/develop/generator/katenaryLabels.go#L150>)

```go
func GetLabelHelpFor(labelname string, asMarkdown bool) string
```

GetLabelHelpFor returns the help for a specific label.

<a name="GetLabelNames"></a>
## func [GetLabelNames](<https://github.com/metal3d/katenary/blob/develop/generator/katenaryLabels.go#L206>)

```go
func GetLabelNames() []string
```

GetLabelNames returns a sorted list of all katenary label names.

<a name="GetLabels"></a>
## func [GetLabels](<https://github.com/metal3d/katenary/blob/develop/generator/labels.go#L11>)

```go
func GetLabels(serviceName, appName string) map[string]string
```

GetLabels returns the labels for a service. It uses the appName to replace the \_\_replace\_\_ in the labels. This is used to generate the labels in the templates.

<a name="GetMatchLabels"></a>
## func [GetMatchLabels](<https://github.com/metal3d/katenary/blob/develop/generator/labels.go#L24>)

```go
func GetMatchLabels(serviceName, appName string) map[string]string
```

GetMatchLabels returns the matchLabels for a service. It uses the appName to replace the \_\_replace\_\_ in the labels. This is used to generate the matchLabels in the templates.

<a name="Helper"></a>
## func [Helper](<https://github.com/metal3d/katenary/blob/develop/generator/helper.go#L14>)

```go
func Helper(name string) string
```

Helper returns the \_helpers.tpl file for a chart.

<a name="NewCronJob"></a>
## func [NewCronJob](<https://github.com/metal3d/katenary/blob/develop/generator/cronJob.go#L29>)

```go
func NewCronJob(service types.ServiceConfig, chart *HelmChart, appName string) (*CronJob, *RBAC)
```

NewCronJob creates a new CronJob from a compose service. The appName is the name of the application taken from the project name.

<a name="Prefix"></a>
## func [Prefix](<https://github.com/metal3d/katenary/blob/develop/generator/katenaryLabels.go#L41>)

```go
func Prefix() string
```



<a name="ChartTemplate"></a>
## type [ChartTemplate](<https://github.com/metal3d/katenary/blob/develop/generator/chart.go#L16-L19>)

ChartTemplate is a template of a chart. It contains the content of the template and the name of the service. This is used internally to generate the templates.

TODO: maybe we can set it private.

```go
type ChartTemplate struct {
    Content     []byte
    Servicename string
}
```

<a name="ConfigMap"></a>
## type [ConfigMap](<https://github.com/metal3d/katenary/blob/develop/generator/configMap.go#L47-L52>)

ConfigMap is a kubernetes ConfigMap. Implements the DataMap interface.

```go
type ConfigMap struct {
    *corev1.ConfigMap
    // contains filtered or unexported fields
}
```

<a name="NewConfigMap"></a>
### func [NewConfigMap](<https://github.com/metal3d/katenary/blob/develop/generator/configMap.go#L56>)

```go
func NewConfigMap(service types.ServiceConfig, appName string) *ConfigMap
```

NewConfigMap creates a new ConfigMap from a compose service. The appName is the name of the application taken from the project name. The ConfigMap is filled by environment variables and labels "map\-env".

<a name="NewConfigMapFromDirectory"></a>
### func [NewConfigMapFromDirectory](<https://github.com/metal3d/katenary/blob/develop/generator/configMap.go#L133>)

```go
func NewConfigMapFromDirectory(service types.ServiceConfig, appName string, path string) *ConfigMap
```

NewConfigMapFromDirectory creates a new ConfigMap from a compose service. This path is the path to the file or directory. If the path is a directory, all files in the directory are added to the ConfigMap. Each subdirectory are ignored. Note that the Generate\(\) function will create the subdirectories ConfigMaps.

<a name="ConfigMap.AddData"></a>
### func \(\*ConfigMap\) [AddData](<https://github.com/metal3d/katenary/blob/develop/generator/configMap.go#L169>)

```go
func (c *ConfigMap) AddData(key string, value string)
```

AddData adds a key value pair to the configmap. Append or overwrite the value if the key already exists.

<a name="ConfigMap.AppendDir"></a>
### func \(\*ConfigMap\) [AppendDir](<https://github.com/metal3d/katenary/blob/develop/generator/configMap.go#L175>)

```go
func (c *ConfigMap) AppendDir(path string)
```

AddFile adds files from given path to the configmap. It is not recursive, to add all files in a directory, you need to call this function for each subdirectory.

<a name="ConfigMap.AppendFile"></a>
### func \(\*ConfigMap\) [AppendFile](<https://github.com/metal3d/katenary/blob/develop/generator/configMap.go#L211>)

```go
func (c *ConfigMap) AppendFile(path string)
```



<a name="ConfigMap.Filename"></a>
### func \(\*ConfigMap\) [Filename](<https://github.com/metal3d/katenary/blob/develop/generator/configMap.go#L229>)

```go
func (c *ConfigMap) Filename() string
```

Filename returns the filename of the configmap. If the configmap is used for files, the filename contains the path.

<a name="ConfigMap.SetData"></a>
### func \(\*ConfigMap\) [SetData](<https://github.com/metal3d/katenary/blob/develop/generator/configMap.go#L164>)

```go
func (c *ConfigMap) SetData(data map[string]string)
```

SetData sets the data of the configmap. It replaces the entire data.

<a name="ConfigMap.Yaml"></a>
### func \(\*ConfigMap\) [Yaml](<https://github.com/metal3d/katenary/blob/develop/generator/configMap.go#L239>)

```go
func (c *ConfigMap) Yaml() ([]byte, error)
```

Yaml returns the yaml representation of the configmap

<a name="ConfigMapMount"></a>
## type [ConfigMapMount](<https://github.com/metal3d/katenary/blob/develop/generator/deployment.go#L28-L31>)



```go
type ConfigMapMount struct {
    // contains filtered or unexported fields
}
```

<a name="ConvertOptions"></a>
## type [ConvertOptions](<https://github.com/metal3d/katenary/blob/develop/generator/chart.go#L53-L60>)

ConvertOptions are the options to convert a compose project to a helm chart.

```go
type ConvertOptions struct {
    Force        bool     // Force the chart directory deletion if it already exists.
    OutputDir    string   // The output directory of the chart.
    Profiles     []string // Profile to use for the conversion.
    HelmUpdate   bool     // If true, the "helm dep update" command will be run after the chart generation.
    AppVersion   *string  // Set the chart "appVersion" field. If nil, the version will be set to 0.1.0.
    ChartVersion string   // Set the chart "version" field.
}
```

<a name="CronJob"></a>
## type [CronJob](<https://github.com/metal3d/katenary/blob/develop/generator/cronJob.go#L23-L26>)

CronJob is a kubernetes CronJob.

```go
type CronJob struct {
    *batchv1.CronJob
    // contains filtered or unexported fields
}
```

<a name="CronJob.Filename"></a>
### func \(\*CronJob\) [Filename](<https://github.com/metal3d/katenary/blob/develop/generator/cronJob.go#L125>)

```go
func (c *CronJob) Filename() string
```

Filename returns the filename of the cronjob.

Implements the Yaml interface.

<a name="CronJob.Yaml"></a>
### func \(\*CronJob\) [Yaml](<https://github.com/metal3d/katenary/blob/develop/generator/cronJob.go#L132>)

```go
func (c *CronJob) Yaml() ([]byte, error)
```

Yaml returns the yaml representation of the cronjob.

Implements the Yaml interface.

<a name="CronJobValue"></a>
## type [CronJobValue](<https://github.com/metal3d/katenary/blob/develop/generator/values.go#L50-L55>)

CronJobValue is a cronjob configuration that will be saved in values.yaml.

```go
type CronJobValue struct {
    Repository      *RepositoryValue `yaml:"repository,omitempty"`
    Environment     map[string]any   `yaml:"environment,omitempty"`
    ImagePullPolicy string           `yaml:"imagePullPolicy,omitempty"`
    Schedule        string           `yaml:"schedule"`
}
```

<a name="DataMap"></a>
## type [DataMap](<https://github.com/metal3d/katenary/blob/develop/generator/types.go#L4-L7>)

DataMap is a kubernetes ConfigMap or Secret. It can be used to add data to the ConfigMap or Secret.

```go
type DataMap interface {
    SetData(map[string]string)
    AddData(string, string)
}
```

<a name="NewFileMap"></a>
### func [NewFileMap](<https://github.com/metal3d/katenary/blob/develop/generator/configMap.go#L26>)

```go
func NewFileMap(service types.ServiceConfig, appName string, kind string) DataMap
```

NewFileMap creates a new DataMap from a compose service. The appName is the name of the application taken from the project name.

<a name="Dependency"></a>
## type [Dependency](<https://github.com/metal3d/katenary/blob/develop/generator/chart.go#L4-L10>)

Dependency is a dependency of a chart to other charts.

```go
type Dependency struct {
    Name       string         `yaml:"name"`
    Version    string         `yaml:"version"`
    Repository string         `yaml:"repository"`
    Alias      string         `yaml:"alias,omitempty"`
    Values     map[string]any `yaml:"-"` // do not export to Chart.yaml
}
```

<a name="Deployment"></a>
## type [Deployment](<https://github.com/metal3d/katenary/blob/develop/generator/deployment.go#L34-L41>)

Deployment is a kubernetes Deployment.

```go
type Deployment struct {
    *appsv1.Deployment `yaml:",inline"`
    // contains filtered or unexported fields
}
```

<a name="NewDeployment"></a>
### func [NewDeployment](<https://github.com/metal3d/katenary/blob/develop/generator/deployment.go#L45>)

```go
func NewDeployment(service types.ServiceConfig, chart *HelmChart) *Deployment
```

NewDeployment creates a new Deployment from a compose service. The appName is the name of the application taken from the project name. It also creates the Values map that will be used to create the values.yaml file.

<a name="Deployment.AddContainer"></a>
### func \(\*Deployment\) [AddContainer](<https://github.com/metal3d/katenary/blob/develop/generator/deployment.go#L135>)

```go
func (d *Deployment) AddContainer(service types.ServiceConfig)
```

AddContainer adds a container to the deployment.

<a name="Deployment.AddHealthCheck"></a>
### func \(\*Deployment\) [AddHealthCheck](<https://github.com/metal3d/katenary/blob/develop/generator/deployment.go#L442>)

```go
func (d *Deployment) AddHealthCheck(service types.ServiceConfig, container *corev1.Container)
```



<a name="Deployment.AddIngress"></a>
### func \(\*Deployment\) [AddIngress](<https://github.com/metal3d/katenary/blob/develop/generator/deployment.go#L181>)

```go
func (d *Deployment) AddIngress(service types.ServiceConfig, appName string) *Ingress
```

AddIngress adds an ingress to the deployment. It creates the ingress object.

<a name="Deployment.AddVolumes"></a>
### func \(\*Deployment\) [AddVolumes](<https://github.com/metal3d/katenary/blob/develop/generator/deployment.go#L187>)

```go
func (d *Deployment) AddVolumes(service types.ServiceConfig, appName string)
```

AddVolumes adds a volume to the deployment. It does not create the PVC, it only adds the volumes to the deployment. If the volume is a bind volume it will warn the user that it is not supported yet.

<a name="Deployment.BindFrom"></a>
### func \(\*Deployment\) [BindFrom](<https://github.com/metal3d/katenary/blob/develop/generator/deployment.go#L319>)

```go
func (d *Deployment) BindFrom(service types.ServiceConfig, binded *Deployment)
```



<a name="Deployment.DependsOn"></a>
### func \(\*Deployment\) [DependsOn](<https://github.com/metal3d/katenary/blob/develop/generator/deployment.go#L109>)

```go
func (d *Deployment) DependsOn(to *Deployment, servicename string) error
```

DependsOn adds a initContainer to the deployment that will wait for the service to be up.

<a name="Deployment.Filename"></a>
### func \(\*Deployment\) [Filename](<https://github.com/metal3d/katenary/blob/develop/generator/deployment.go#L624>)

```go
func (d *Deployment) Filename() string
```

Filename returns the filename of the deployment.

<a name="Deployment.SetEnvFrom"></a>
### func \(\*Deployment\) [SetEnvFrom](<https://github.com/metal3d/katenary/blob/develop/generator/deployment.go#L347>)

```go
func (d *Deployment) SetEnvFrom(service types.ServiceConfig, appName string)
```

SetEnvFrom sets the environment variables to a configmap. The configmap is created.

<a name="Deployment.Yaml"></a>
### func \(\*Deployment\) [Yaml](<https://github.com/metal3d/katenary/blob/develop/generator/deployment.go#L475>)

```go
func (d *Deployment) Yaml() ([]byte, error)
```

Yaml returns the yaml representation of the deployment.

<a name="FileMapUsage"></a>
## type [FileMapUsage](<https://github.com/metal3d/katenary/blob/develop/generator/configMap.go#L37>)

FileMapUsage is the usage of the filemap.

```go
type FileMapUsage uint8
```

<a name="FileMapUsageConfigMap"></a>FileMapUsage constants.

```go
const (
    FileMapUsageConfigMap FileMapUsage = iota // pure configmap for key:values.
    FileMapUsageFiles                         // files in a configmap.
)
```

<a name="HelmChart"></a>
## type [HelmChart](<https://github.com/metal3d/katenary/blob/develop/generator/chart.go#L23-L35>)

HelmChart is a Helm Chart representation. It contains all the tempaltes, values, versions, helpers...

```go
type HelmChart struct {
    Name         string                    `yaml:"name"`
    ApiVersion   string                    `yaml:"apiVersion"`
    Version      string                    `yaml:"version"`
    AppVersion   string                    `yaml:"appVersion"`
    Description  string                    `yaml:"description"`
    Dependencies []Dependency              `yaml:"dependencies,omitempty"`
    Templates    map[string]*ChartTemplate `yaml:"-"` // do not export to yaml
    Helper       string                    `yaml:"-"` // do not export to yaml
    Values       map[string]any            `yaml:"-"` // do not export to yaml
    VolumeMounts map[string]any            `yaml:"-"` // do not export to yaml
    // contains filtered or unexported fields
}
```

<a name="Generate"></a>
### func [Generate](<https://github.com/metal3d/katenary/blob/develop/generator/generator.go#L34>)

```go
func Generate(project *types.Project) (*HelmChart, error)
```

Generate a chart from a compose project. This does not write files to disk, it only creates the HelmChart object.

The Generate function will create the HelmChart object this way:

- Detect the service port name or leave the port number if not found.
- Create a deployment for each service that are not ingnore.
- Create a service and ingresses for each service that has ports and/or declared ingresses.
- Create a PVC or Configmap volumes for each volume.
- Create init containers for each service which has dependencies to other services.
- Create a chart dependencies.
- Create a configmap and secrets from the environment variables.
- Merge the same\-pod services.

<a name="NewChart"></a>
### func [NewChart](<https://github.com/metal3d/katenary/blob/develop/generator/chart.go#L38>)

```go
func NewChart(name string) *HelmChart
```

NewChart creates a new empty chart with the given name.

<a name="Help"></a>
## type [Help](<https://github.com/metal3d/katenary/blob/develop/generator/katenaryLabels.go#L32-L37>)

Help is the documentation of a label.

```go
type Help struct {
    Short   string `yaml:"short"`
    Long    string `yaml:"long"`
    Example string `yaml:"example"`
    Type    string `yaml:"type"`
}
```

<a name="Ingress"></a>
## type [Ingress](<https://github.com/metal3d/katenary/blob/develop/generator/ingress.go#L18-L21>)



```go
type Ingress struct {
    *networkv1.Ingress
    // contains filtered or unexported fields
}
```

<a name="NewIngress"></a>
### func [NewIngress](<https://github.com/metal3d/katenary/blob/develop/generator/ingress.go#L24>)

```go
func NewIngress(service types.ServiceConfig, Chart *HelmChart) *Ingress
```

NewIngress creates a new Ingress from a compose service.

<a name="Ingress.Filename"></a>
### func \(\*Ingress\) [Filename](<https://github.com/metal3d/katenary/blob/develop/generator/ingress.go#L177>)

```go
func (ingress *Ingress) Filename() string
```



<a name="Ingress.Yaml"></a>
### func \(\*Ingress\) [Yaml](<https://github.com/metal3d/katenary/blob/develop/generator/ingress.go#L136>)

```go
func (ingress *Ingress) Yaml() ([]byte, error)
```



<a name="IngressValue"></a>
## type [IngressValue](<https://github.com/metal3d/katenary/blob/develop/generator/values.go#L27-L33>)

IngressValue is a ingress configuration that will be saved in values.yaml.

```go
type IngressValue struct {
    Enabled     bool              `yaml:"enabled"`
    Host        string            `yaml:"host"`
    Path        string            `yaml:"path"`
    Class       string            `yaml:"class"`
    Annotations map[string]string `yaml:"annotations"`
}
```

<a name="Label"></a>
## type [Label](<https://github.com/metal3d/katenary/blob/develop/generator/katenaryLabels.go#L29>)

Label is a katenary label to find in compose files.

```go
type Label = string
```

<a name="LabelMainApp"></a>Known labels.

```go
const (
    LabelMainApp        Label = katenaryLabelPrefix + "/main-app"
    LabelValues         Label = katenaryLabelPrefix + "/values"
    LabelSecrets        Label = katenaryLabelPrefix + "/secrets"
    LabelPorts          Label = katenaryLabelPrefix + "/ports"
    LabelIngress        Label = katenaryLabelPrefix + "/ingress"
    LabelMapEnv         Label = katenaryLabelPrefix + "/map-env"
    LabelHealthCheck    Label = katenaryLabelPrefix + "/health-check"
    LabelSamePod        Label = katenaryLabelPrefix + "/same-pod"
    LabelDescription    Label = katenaryLabelPrefix + "/description"
    LabelIgnore         Label = katenaryLabelPrefix + "/ignore"
    LabelDependencies   Label = katenaryLabelPrefix + "/dependencies"
    LabelConfigMapFiles Label = katenaryLabelPrefix + "/configmap-files"
    LabelCronJob        Label = katenaryLabelPrefix + "/cronjob"
    LabelEnvFrom        Label = katenaryLabelPrefix + "/env-from"
)
```

<a name="PersistenceValue"></a>
## type [PersistenceValue](<https://github.com/metal3d/katenary/blob/develop/generator/values.go#L19-L24>)

PersistenceValue is a persistence configuration that will be saved in values.yaml.

```go
type PersistenceValue struct {
    Enabled      bool     `yaml:"enabled"`
    StorageClass string   `yaml:"storageClass"`
    Size         string   `yaml:"size"`
    AccessMode   []string `yaml:"accessMode"`
}
```

<a name="RBAC"></a>
## type [RBAC](<https://github.com/metal3d/katenary/blob/develop/generator/rbac.go#L20-L24>)

RBAC is a kubernetes RBAC containing a role, a rolebinding and an associated serviceaccount.

```go
type RBAC struct {
    RoleBinding    *RoleBinding
    Role           *Role
    ServiceAccount *ServiceAccount
}
```

<a name="NewRBAC"></a>
### func [NewRBAC](<https://github.com/metal3d/katenary/blob/develop/generator/rbac.go#L27>)

```go
func NewRBAC(service types.ServiceConfig, appName string) *RBAC
```

NewRBAC creates a new RBAC from a compose service. The appName is the name of the application taken from the project name.

<a name="RepositoryValue"></a>
## type [RepositoryValue](<https://github.com/metal3d/katenary/blob/develop/generator/values.go#L13-L16>)

RepositoryValue is a docker repository image and tag that will be saved in values.yaml.

```go
type RepositoryValue struct {
    Image string `yaml:"image"`
    Tag   string `yaml:"tag"`
}
```

<a name="Role"></a>
## type [Role](<https://github.com/metal3d/katenary/blob/develop/generator/rbac.go#L114-L117>)

Role is a kubernetes Role.

```go
type Role struct {
    *rbacv1.Role
    // contains filtered or unexported fields
}
```

<a name="Role.Filename"></a>
### func \(\*Role\) [Filename](<https://github.com/metal3d/katenary/blob/develop/generator/rbac.go#L123>)

```go
func (r *Role) Filename() string
```



<a name="Role.Yaml"></a>
### func \(\*Role\) [Yaml](<https://github.com/metal3d/katenary/blob/develop/generator/rbac.go#L119>)

```go
func (r *Role) Yaml() ([]byte, error)
```



<a name="RoleBinding"></a>
## type [RoleBinding](<https://github.com/metal3d/katenary/blob/develop/generator/rbac.go#L100-L103>)

RoleBinding is a kubernetes RoleBinding.

```go
type RoleBinding struct {
    *rbacv1.RoleBinding
    // contains filtered or unexported fields
}
```

<a name="RoleBinding.Filename"></a>
### func \(\*RoleBinding\) [Filename](<https://github.com/metal3d/katenary/blob/develop/generator/rbac.go#L109>)

```go
func (r *RoleBinding) Filename() string
```



<a name="RoleBinding.Yaml"></a>
### func \(\*RoleBinding\) [Yaml](<https://github.com/metal3d/katenary/blob/develop/generator/rbac.go#L105>)

```go
func (r *RoleBinding) Yaml() ([]byte, error)
```



<a name="Secret"></a>
## type [Secret](<https://github.com/metal3d/katenary/blob/develop/generator/secret.go#L24-L27>)

Secret is a kubernetes Secret.

Implements the DataMap interface.

```go
type Secret struct {
    *corev1.Secret
    // contains filtered or unexported fields
}
```

<a name="NewSecret"></a>
### func [NewSecret](<https://github.com/metal3d/katenary/blob/develop/generator/secret.go#L30>)

```go
func NewSecret(service types.ServiceConfig, appName string) *Secret
```

NewSecret creates a new Secret from a compose service

<a name="Secret.AddData"></a>
### func \(\*Secret\) [AddData](<https://github.com/metal3d/katenary/blob/develop/generator/secret.go#L87>)

```go
func (s *Secret) AddData(key string, value string)
```

AddData adds a key value pair to the secret.

<a name="Secret.Filename"></a>
### func \(\*Secret\) [Filename](<https://github.com/metal3d/katenary/blob/develop/generator/secret.go#L111>)

```go
func (s *Secret) Filename() string
```

Filename returns the filename of the secret.

<a name="Secret.SetData"></a>
### func \(\*Secret\) [SetData](<https://github.com/metal3d/katenary/blob/develop/generator/secret.go#L80>)

```go
func (s *Secret) SetData(data map[string]string)
```

SetData sets the data of the secret.

<a name="Secret.Yaml"></a>
### func \(\*Secret\) [Yaml](<https://github.com/metal3d/katenary/blob/develop/generator/secret.go#L95>)

```go
func (s *Secret) Yaml() ([]byte, error)
```

Yaml returns the yaml representation of the secret.

<a name="Service"></a>
## type [Service](<https://github.com/metal3d/katenary/blob/develop/generator/service.go#L19-L22>)

Service is a kubernetes Service.

```go
type Service struct {
    *v1.Service `yaml:",inline"`
    // contains filtered or unexported fields
}
```

<a name="NewService"></a>
### func [NewService](<https://github.com/metal3d/katenary/blob/develop/generator/service.go#L25>)

```go
func NewService(service types.ServiceConfig, appName string) *Service
```

NewService creates a new Service from a compose service.

<a name="Service.AddPort"></a>
### func \(\*Service\) [AddPort](<https://github.com/metal3d/katenary/blob/develop/generator/service.go#L54>)

```go
func (s *Service) AddPort(port types.ServicePortConfig, serviceName ...string)
```

AddPort adds a port to the service.

<a name="Service.Filename"></a>
### func \(\*Service\) [Filename](<https://github.com/metal3d/katenary/blob/develop/generator/service.go#L93>)

```go
func (s *Service) Filename() string
```

Filename returns the filename of the service.

<a name="Service.Yaml"></a>
### func \(\*Service\) [Yaml](<https://github.com/metal3d/katenary/blob/develop/generator/service.go#L78>)

```go
func (s *Service) Yaml() ([]byte, error)
```

Yaml returns the yaml representation of the service.

<a name="ServiceAccount"></a>
## type [ServiceAccount](<https://github.com/metal3d/katenary/blob/develop/generator/rbac.go#L128-L131>)

ServiceAccount is a kubernetes ServiceAccount.

```go
type ServiceAccount struct {
    *corev1.ServiceAccount
    // contains filtered or unexported fields
}
```

<a name="ServiceAccount.Filename"></a>
### func \(\*ServiceAccount\) [Filename](<https://github.com/metal3d/katenary/blob/develop/generator/rbac.go#L137>)

```go
func (r *ServiceAccount) Filename() string
```



<a name="ServiceAccount.Yaml"></a>
### func \(\*ServiceAccount\) [Yaml](<https://github.com/metal3d/katenary/blob/develop/generator/rbac.go#L133>)

```go
func (r *ServiceAccount) Yaml() ([]byte, error)
```



<a name="Value"></a>
## type [Value](<https://github.com/metal3d/katenary/blob/develop/generator/values.go#L36-L47>)

Value will be saved in values.yaml. It contains configuraiton for all deployment and services.

```go
type Value struct {
    Repository      *RepositoryValue             `yaml:"repository,omitempty"`
    Persistence     map[string]*PersistenceValue `yaml:"persistence,omitempty"`
    Ingress         *IngressValue                `yaml:"ingress,omitempty"`
    ImagePullPolicy string                       `yaml:"imagePullPolicy,omitempty"`
    Environment     map[string]any               `yaml:"environment,omitempty"`
    Replicas        *uint32                      `yaml:"replicas,omitempty"`
    CronJob         *CronJobValue                `yaml:"cronjob,omitempty"`
    NodeSelector    map[string]string            `yaml:"nodeSelector"`
    ServiceAccount  string                       `yaml:"serviceAccount"`
    Resources       map[string]any               `yaml:"resources"`
}
```

<a name="NewValue"></a>
### func [NewValue](<https://github.com/metal3d/katenary/blob/develop/generator/values.go#L62>)

```go
func NewValue(service types.ServiceConfig, main ...bool) *Value
```

NewValue creates a new Value from a compose service. The value contains the necessary information to deploy the service \(image, tag, replicas, etc.\).

If \`main\` is true, the tag will be empty because it will be set in the helm chart appVersion.

<a name="Value.AddIngress"></a>
### func \(\*Value\) [AddIngress](<https://github.com/metal3d/katenary/blob/develop/generator/values.go#L101>)

```go
func (v *Value) AddIngress(host, path string)
```



<a name="Value.AddPersistence"></a>
### func \(\*Value\) [AddPersistence](<https://github.com/metal3d/katenary/blob/develop/generator/values.go#L89>)

```go
func (v *Value) AddPersistence(volumeName string)
```

AddPersistence adds persistence configuration to the Value.

<a name="VolumeClaim"></a>
## type [VolumeClaim](<https://github.com/metal3d/katenary/blob/develop/generator/volume.go#L18-L23>)

VolumeClaim is a kubernetes VolumeClaim. This is a PersistentVolumeClaim.

```go
type VolumeClaim struct {
    *v1.PersistentVolumeClaim
    // contains filtered or unexported fields
}
```

<a name="NewVolumeClaim"></a>
### func [NewVolumeClaim](<https://github.com/metal3d/katenary/blob/develop/generator/volume.go#L26>)

```go
func NewVolumeClaim(service types.ServiceConfig, volumeName, appName string) *VolumeClaim
```

NewVolumeClaim creates a new VolumeClaim from a compose service.

<a name="VolumeClaim.Filename"></a>
### func \(\*VolumeClaim\) [Filename](<https://github.com/metal3d/katenary/blob/develop/generator/volume.go#L117>)

```go
func (v *VolumeClaim) Filename() string
```

Filename returns the suggested filename for a VolumeClaim.

<a name="VolumeClaim.Yaml"></a>
### func \(\*VolumeClaim\) [Yaml](<https://github.com/metal3d/katenary/blob/develop/generator/volume.go#L56>)

```go
func (v *VolumeClaim) Yaml() ([]byte, error)
```

Yaml marshals a VolumeClaim into yaml.

<a name="Yaml"></a>
## type [Yaml](<https://github.com/metal3d/katenary/blob/develop/generator/types.go#L10-L13>)

Yaml is a kubernetes object that can be converted to yaml.

```go
type Yaml interface {
    Yaml() ([]byte, error)
    Filename() string
}
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
